
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0098)https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
	<meta charset="UTF-8">
	<meta name="Author" content="Leslie Bondaryk">
	<meta name="Owner" content="Pearson">
	<meta name="Copyright" content="Copyright (c) 2013 Pearson. All rights reserved.">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="eCourses Author, Title" name="description">

    <!-- Bootstrap -->
    <link href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/css/bootstrap_plus.css" rel="stylesheet" media="screen">
	<link href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/css/widgets.css" rel="stylesheet">
	<link href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/css/learning-objective.css" rel="stylesheet">
	<link href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/css/eCourse-master.css" rel="stylesheet" media="screen">
 

	<title class="setTitle">Kantorowski Enantiomers Event Bars and Rotation</title>
</head>

<body class="overflow"><!-- Top Bar --><div class="topbar"><div class="left-slot breadcrumbs"><ul class="crumbs"><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/TOC.html">Player Test Book</a> <span class="divider visible-desktop">:</span></li><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/chapter_n.html">Player Test Book - Chapter Opener</a> <span class="divider visible-desktop">:</span></li><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.3.html">Demo Files</a></li></ul></div><div class="dropdown breadcrumbDrop pull-left"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html#" class="btn btn-mini dropdown-toggle" data-toggle="dropdown"><i class="icon-reorder"></i></a><ul class="crumbs dropdown-menu"><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/TOC.html">Player Test Book</a> <span class="divider visible-desktop">:</span></li><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/chapter_n.html">Player Test Book - Chapter Opener</a> <span class="divider visible-desktop">:</span></li><li><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.3.html">Demo Files</a></li></ul></div><div class="controls"><div class="control index dropdown"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html#" data-toggle="dropdown" class="dropdown-toggle"><i class="icon-list"></i></a><div class="dropdown-menu pull-right tableOfContents"><div class="scroll"><ul class="toc" role="menu"><li class="chapter"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/chapter_n.html"><span class="num">Chapter n</span><span class="title">Player Test Book - Chapter Opener</span></a></li><ul><li class="module"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.1.html"><span class="num">n.1</span><span class="title">Module Opener</span></a></li><ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/even-column.html"><span class="num">n.1.1</span><span class="title">Objective Even-Column</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/major-minor.html"><span class="num">n.1.2</span><span class="title">Objective Major-Minor</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/minor-major.html"><span class="num">n.1.3</span><span class="title">Objective Minor-Major</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/rows.html"><span class="num">n.1.4</span><span class="title">Objective Rows</span></a></li><ul></ul></ul><li class="module"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.2.html"><span class="num">n.2</span><span class="title">Widget Tests</span></a></li><ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/axesTests.html"><span class="num">n.2.1</span><span class="title">Axes Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/lineGraphTests.html"><span class="num">n.2.2</span><span class="title">Line Graph Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/barGraphTests.html"><span class="num">n.2.3</span><span class="title">Bar Graph Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/imageTests.html"><span class="num">n.2.4</span><span class="title">Image, Carousel Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/labelCalloutTests.html"><span class="num">n.2.5</span><span class="title">Label and Callout Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/tableCalloutTests.html"><span class="num">n.2.6</span><span class="title">Callouts in Tables or singly</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/pieTests.html"><span class="num">n.2.7</span><span class="title">Pie Chart Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/sketchTests.html"><span class="num">n.2.8</span><span class="title">Sketch Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/animationTests.html"><span class="num">n.2.9</span><span class="title">Animation Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/sliderTests.html"><span class="num">n.2.10</span><span class="title">Slider and Readout Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/buttonTests.html"><span class="num">n.2.11</span><span class="title">Button Tests</span></a></li><ul></ul></ul><li class="module"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.3.html"><span class="num">n.3</span><span class="title">Demo Files</span></a></li><ul><li class="objective"><a href="./brix_files/brix.html"><span class="num">n.3.1</span><span class="title">Kantorowski Enantiomers Event Bars and Rotation</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/NeffReactor.html"><span class="num">n.3.2</span><span class="title">Neff Reactor Stepped Image</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/PhysicsResistance.html"><span class="num">n.3.3</span><span class="title">Resistance: Randomized Scatter Data and slider events</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/NeffPopPredictions.html"><span class="num">n.3.4</span><span class="title">Neff Population Predictions Updating Lines</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorAnimation.html"><span class="num">n.3.5</span><span class="title">Stereoisomerism in Alkenes: Animation</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/EnergyParabola.html"><span class="num">n.3.6</span><span class="title">Mechanical Energy: Animation and Graph/Image coordination</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/Brain.html"><span class="num">n.3.7</span><span class="title">Cicerelli Brain hotspots</span></a></li><ul></ul></ul><li class="module"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.4.html"><span class="num">n.4</span><span class="title">Widget Assessment Tests</span></a></li><ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/multiChoiceTests.html"><span class="num">n.4.1</span><span class="title">Multiple Choice Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/selectGroupTests.html"><span class="num">n.4.1a</span><span class="title">Dropdown Selection Multiple Choice Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/labelScoreTests.html"><span class="num">n.4.2</span><span class="title">Labeling Assessment Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/hotSpotTests.html"><span class="num">n.4.3</span><span class="title">Hot Spot Assessment Tests</span></a></li><ul></ul><li class="objective"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/submitTests.html"><span class="num">n.4.4</span><span class="title">Submit Tests</span></a></li><ul></ul></ul></ul></ul></div></div></div><div class="divider"></div><div class="control notes"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html#"><i class="icon-edit"></i></a></div><div class="dropdown control display"><a href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html#" data-toggle="dropdown" class="dropdown-toggle"><i class="icon-font"></i></a><div class="dropdown-menu displayConfig pull-right noSwipe"><div class="popover-content"><form class="form-inline"><label>Size</label><div class="slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false"><a class="ui-slider-handle ui-state-default ui-corner-all" href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/KantorowskiRotation.html#" style="left: 31.25%;"></a></div><label>Font</label><div class="btn-group block" data-toggle="buttons-radio"><button type="button" class="btn sans-serif active">Aa</button><button type="button" class="btn serif">Aa</button><button type="button" class="btn mono">Aa</button></div><label>Background</label><div class="btn-group block" data-toggle="buttons-radio"><button type="button" class="btn white active">White</button><button type="button" class="btn black">Black</button><button type="button" class="btn yellow">Yellow</button></div></form></div></div></div></div><div class="steps"><div class="step active">1</div><div class="step">2</div><div class="step">3</div><div class="step">4</div><div class="step">5</div><div class="step">6</div><div class="step">7</div></div></div><a class="swipe prev" href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/module_n.3.html" alt="Previous page"><i class="icon-chevron-left"></i></a><a class="swipe next" href="https://dl.dropboxusercontent.com/u/89342193/PlayerProto/PrototypeObjects/NeffReactor.html" alt="Next page"><i class="icon-chevron-right"></i></a>
	<div class="titler">
		<span class="number setId">n.3.1</span>
		<span class="setTitle">Kantorowski Enantiomers Event Bars and Rotation</span>
	</div>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span6 leftCol">
            <h2 class="setTitle">Kantorowski Enantiomers Event Bars and Rotation</h2>
            	<p>Mathematically, the percentage of each enantiomer can be expressed as follows:</p>
				<img src="./brix_files/Kequation1.png">
				<p>and</p>
				<img src="./brix_files/Kequation2.png">
				<p>For both equations, the numerator of the term in parentheses relates to the optically inactive portion of the sample. Halving this value provides the percentage of the enantiomer present in lesser amount. This same value needs to be added to the %ee to provide the percentage of the dominant enantiomer.
				</p>
				<p>
					The % ee can also be calculated if the composition of the mixture is known. The enantiomer present in smaller number is subtracted from the dominant enantiomer. Consider a sample that contains
					<object id="LevoDextroSliders" data="kantorLevoDextroSliders.html" height="80" width="100%" type="text/html">
                </object>
                	
                  The % ee is given by the absolute difference between the components, or 
                  <object id="eeReadout" data="kantoreeReadout.html" style="display:inline; vertical-align:bottom;" height="19" width="100" type="text/html">
                	</object>.
          
				</p>
			</div>
			<div class="span6 rightCol">
             <object id="pieBar" data="kantorPieBar.html" height="800" width="100%" type="text/html">

             </object> 
            	<div id="roto">
                	<p> <span id="alpha"></span> 
                	</p>
                </div>
				<div id="barChart0"></div>
				<div id="barChart"></div>
			</div>
		</div>
	</div>

    <!--
        VOGEL: The following code is the framework that Inkling Habitat provides. It is responsible for the following:
            1) Sandboxes Brix into an IFrames (though they are represented as <object> tags in the content). This is so third party
                Javascript can be run inside without access to the app.
            2) Passes parameters (represented in content as <param> tags) to the iframe contents. This is so you can reuse the same
                implementation in several places and vary it using parameters.
            3) Provides an API (using window.postMessage) to the iframe to resize itself.
            4) Provides an API (using window.postMessage) to the iframe to share data (a la localStorage).
    -->
    <script>
        // Turn the <object> tags into <iframe> tags to work around webkit bug https://bugs.webkit.org/show_bug.cgi?id=75395.
        // Also append parameters to iframe url so they're accessible to the iframe implementation.
        // To prevent the flicker when loading, you might want to do this transformation work before rendering the HTML in your player.
        var objectNodes = document.querySelectorAll('object');
        [].forEach.call(objectNodes, function(objectNode){
            var iframeNode = document.createElement('iframe');
            iframeNode.setAttribute('sandbox', 'allow-scripts');

            // Copy over whitelisted attributes from the <object> to the <iframe>.
            ['height','width','class','style'].forEach(function(attrName){
                var attrValue = objectNode.getAttribute(attrName);
                if (attrValue !== null) iframeNode.setAttribute(attrName, attrValue);
            });

            var queryString = getQueryStringFromParams(objectNode);
            var url = objectNode.getAttribute('data') + '?' + queryString;
            iframeNode.setAttribute('src', url);
            // Swap the <object> for the <iframe> node.
            objectNode.parentNode.replaceChild(iframeNode, objectNode);
        });

        // Method returns a queryString from <param> tags inside and <object>.
        function getQueryStringFromParams(objectNode){
            var params = objectNode.querySelectorAll('param');
            var queryString = [].reduce.call(params, function(acc, paramNode){
                var name = paramNode.getAttribute('name');
                var value = paramNode.getAttribute('value');

                if (acc) acc += '&';
                return acc + encodeURIComponent(name) + '=' + encodeURIComponent(value);
            }, '');
            return queryString;
        }

        // Handle events.
        window.addEventListener('message', function(e){
            if (e.data.method === 'save') saveGlobalData(e);
            if (e.data.method === 'resize') resize(e);
        });

        function saveGlobalData(e){
            var source = e.source;

            broadcastToAll(source, {
                method: 'restore',
                value: e.data.value
            });
        }
        
        function broadcastToAll(source, message){
            var widgetsOnPage = document.querySelectorAll('iframe');
            [].forEach.call(widgetsOnPage, function(w){
                // Skip over the widget that sent the message.
                if (source === w.contentWindow) return;

                w.contentWindow.postMessage(message, '*')
            });
        }
        
        function resize(e){
            var sourceObject = findIFrameWithWindow(e.source);
            sourceObject.style.width = e.data.width + 'px';
            sourceObject.style.height = e.data.height + 'px';
        }
        
        function findIFrameWithWindow(win){
            var widgetsOnPage = document.querySelectorAll('iframe');
            for (var i = 0; i < widgetsOnPage.length; i++){
                if (win === widgetsOnPage[i].contentWindow) return widgetsOnPage[i];
            }
        }
    </script>


<!--
    <script src="./brix_files/jquery-latest.js"></script>
	<script src="./brix_files/bootstrap.min.js"></script>
	<script src="./brix_files/jquery-ui-1.10.2.custom.js"></script>
	<script src="./brix_files/toc-structure.js"></script>    
	<script src="./brix_files/eCourse-master.js"></script>    
	<script src="./brix_files/d3.v3.min.js"></script>

<script src="./brix_files/widgets.js"></script>    

	<script src="./brix_files/widget-base.js"></script>
	<script src="./brix_files/widget-barchart.js"></script>
    <script src="./brix_files/widget-slider.js"></script>
    <script src="./brix_files/widget-numeric.js"></script>
	<script src="./brix_files/eventmanager.js"></script>

	<script>



	//the eventManager is an object that is specific to this page.  A new one
	//is created for every page, and then passed to the widgets in that page
	//that must talk to it.
	var eventManager = new EventManager();
	
	
	// Modify the value of the data for the bar graph when the
	//numerical input changes.  So, subscribe to the event emitted by inputLevo,
	//or inputDextro,
	//and target whatever is identified by the handler in the second argument.
	//TODO: make these methods of the target widget?

	// Handle changes of the levo and dextro input values
	eventManager.subscribe(inputLevo.changedValueEventId,
						   function(ed) { handleInputValueChanged(inputDextro, ed.value); });
	eventManager.subscribe(inputDextro.changedValueEventId,
						   function(ed) { handleInputValueChanged(inputLevo, ed.value); });
	eventManager.subscribe(sl1.changedValueEventId, function(ed) { handleNumericInputChanged(ed.value); });
	

	/* **************************************************************************
	* handleInputValueChanged                                              *//**
	*
	* handleInputValueChanged is called from the event handler for one of
	* the input widgets when the user changes its value. It updates the
	* given matching input widget's value to match the new value and then
	* updates the bar chart.
	*
	* @param {NumericInput} otherInputWidget -This is the other input widget
	*                                         whose value needs to be updated
	*                                         to match the user changed widget.
	* @param {number} newValue - The value of the widget that was changed.
	*
	****************************************************************************/
	function handleInputValueChanged(otherInputWidget, newValue)
	{
		otherInputWidget.setValue(100 - newValue);
		var diff = inputDextro.getValue() - inputLevo.getValue(),
		    absDiff = Math.abs(diff);
		eeReadout.setValue(absDiff);
		//rot.setValue(sl1.getValue() * diff/100);
		updateBarChart();
		updatePieChart(diff);
	}
	
	
	/* **************************************************************************
	 * handleNumericInputChanged                                            *//**
	 *
	* handleInputValueChanged is called from the event handler for one of
	* the input widgets when the user changes its value. It updates the
	* given matching input widget's value to match the new value and then
	* updates the bar chart.
	*
	* @param {NumericInput} Otherwidgetarray -These are the other widgets
	*                                         which need to be updated
	*                                         to match the user changed widget.
	* @param {number} newValue - The value of the widget that was changed.
	*
	****************************************************************************/
	function handleNumericInputChanged(WidgetList, newValue)
	{
		var diff = inputDextro.getValue() - inputLevo.getValue();
		//var angle = newValue * diff/10;
		//rot.setValue(newValue * diff/100);
		updatePieChart(diff);
	}

	/* **************************************************************************
	 * updateBarChart                                                       *//**
	 *
	 * updateBarChart updates the bar chart widget to match the current values
	 * of the levo and dextro input widgets.
	 *
	 ****************************************************************************/
	function updateBarChart()
	{
		console.log("TODO: fired updateBarChart log");
		levoData[0].x = inputLevo.getValue();
		dextroData[0].x = inputDextro.getValue();
		svg70.BarChart({
			Data: [dextroData, levoData],
			type: "linear" //ignored for anything but grouped
			});
		var newMark = (levoData[0].x > dextroData[0].x) ? dextroData[0] : levoData[0];
		svg70.LineMarkers( {
			xMarks: [newMark]
			});
		
		Bars.redraw(Bars.lastdrawn.container,Bars.lastdrawn.size);

		
	}

	function updatePieChart(diff)
	{
		console.log("TODO: fired updatePieChart log");
		pieDish.Pie({
			Data: [{x: sl1.getValue() * diff/360}],
			xYPos: [0.5,0.5]
			});
		var newMark = {x:(1/2), label: d3.format("+0r2")(sl1.getValue() * diff/100) + "&deg;"};
		pieDish.LineMarkers( {
			xMarks: [newMark]
			});
		
	}
		
	
	</script>
-->


</body></html>