<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="Author" content="Leslie Bondaryk" />
	<meta name="Owner" content="Pearson" />
	<meta name="Copyright" content="Copyright (c) 2013 Pearson. All rights reserved." />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="eCourses Author, Title" name="description" />

    <!-- Bootstrap -->
    <link href="../css/bootstrap_plus.css" rel="stylesheet">
	<link href="../css/widgets.css" rel="stylesheet">
</head>

<body>
	<div id="bricTarget"></div>

	<script src="../js/jquery-latest.js"></script>
	<script src="../js/d3.v3.min.js"></script>

   	<script src="../js/widget-base.js"></script>
	<script src="../js/widget-button.js"></script>
	<script src="../js/widget-sketch.js"></script>
	<script src="../js/widget-labelgroup.js"></script>
	<script src="../js/eventmanager.js"></script>

	<script>
	var eventManager = new EventManager();

	var svg7 = new SVGContainer({
		node: d3.select("#bricTarget"),
		maxWid: 400,
		maxHt: 400
	});

// message for part 1 of interactive exercise
var sketch7_0 = new Sketch ({
		id: "sketch7_0",
		drawShape:
		[
			{ shape: "textBit", data: [{ xyPos: [.98, .8], text: "Touch each structure" }]},
			{ shape: "textBit", data: [{ xyPos: [.98, .76], text: "to simplify it" }]}
		]
	});
// message for part 2 of interactive exercise
var sketch7_01 = new Sketch ({
		id: "sketch7_01",
		drawShape:
		[
			{ shape: "textBit", data: [{ xyPos: [.98, .45], text: "Touch the two" }]},
			{ shape: "textBit", data: [{ xyPos: [.98, .41], text: "identical structures" }]},
		]
	});

// left molecule (clickable)
var sketch7_1 = new Sketch ({
		id: "sketch7_1",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.15, .8], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.15, .8], length: .05, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.15, .8], length: .05, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.108, .775], length: .05, angle: 5*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.065, .8], length: .05, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.15, .79], length: .04, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.192, .775], length: .05, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.192, .775], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.192, .725], length: .05, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.15, .7], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.235, .8], length: .05, angle: -Math.PI/6 }]},
		]
	});
	
var hotspot7_1 = new Sketch ({
		id: "hotspot7_1",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [0, .85], width: .3, height: .2 }]},
		]
	}, eventManager);

// middle molecule (clickable)
var sketch7_2 = new Sketch ({
		id: "sketch7_2",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.4, .75], length: .05, angle: 5*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.358, .775], length: .05, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.358, .825], length: .05, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.4, .75], length: .05, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.442, .775], length: .05, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.41, .745], length: .04, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.4, .75], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.4, .7], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.442, .775], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.484, .75], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.484, .7], length: .05, angle: -Math.PI/6 }]},
		]
	});
	
var hotspot7_2 = new Sketch ({
		id: "hotspot7_2",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [.35, .85], width: .2, height: .2 }]},
		]
	}, eventManager);

// right molecule (clickable)
var sketch7_3 = new Sketch ({
		id: "sketch7_3",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.7, .775], length: .05, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.658, .75], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.658, .7], length: .05, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.7, .775], length: .05, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.7, .775], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.7, .765], length: .04, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.742, .75], length: .05, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.742, .7], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.742, .75], length: .05, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.784, .775], length: .05, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.784, .825], length: .05, angle: Math.PI/6 }]},
		]
	});
	
var hotspot7_3 = new Sketch ({
		id: "hotspot7_3",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [.6, .85], width: .25, height: .2 }]},
		]
	}, eventManager);

// arrow with left molecule
var sketch7_4 = new Sketch ({
		id: "sketch7_4",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.15, .625], length: .05, angle: -Math.PI/2, type: "vector" }]},
		]
	});

// arrow with middle molecule	
var sketch7_5 = new Sketch ({
		id: "sketch7_5",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.442, .625], length: .05, angle: -Math.PI/2, type: "vector" }]},
		]
	});

// arrow with right molecule
var sketch7_6 = new Sketch ({
		id: "sketch7_6",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.72, .625], length: .05, angle: -Math.PI/2, type: "vector" }]},
		]
	});

// simplified left molecule (clickable)	
var sketch7_7 = new Sketch ({
		id: "sketch7_7",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.125, .45], length: .04, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.125, .45], length: .04, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.125, .45], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.135, .455], length: .04, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.167, .425], length: .04, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.167, .425], length: .04, angle: Math.PI/6 }]},
			
			{ shape: "textBit", data: [{ xyPos: [.125, .5], text: 'Me' }]},
			{ shape: "textBit", data: [{ xyPos: [.065, .41], text: 'Pr' }]},
			{ shape: "textBit", data: [{ xyPos: [.22, .45], text: 'Et' }]},
			{ shape: "textBit", data: [{ xyPos: [.165, .355], text: 'Pr' }]},
		]
	});
	
var hotspot7_4 = new Sketch ({
		id: "hotspot7_4",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [.05, .55], width: .2, height: .2 }]},
		]
	}, eventManager);

// simplified middle molecule (clickable)
var sketch7_8 = new Sketch ({
		id: "sketch7_8",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.437, .425], length: .04, angle: 5*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.437, .425], length: .04, angle: -Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.437, .425], length: .05, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.447, .42], length: .04, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.479, .45], length: .04, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.479, .45], length: .04, angle: -Math.PI/6 }]},
			
			{ shape: "textBit", data: [{ xyPos: [.48, .5], text: 'Me' }]},
			{ shape: "textBit", data: [{ xyPos: [.385, .45], text: 'Pr' }]},
			{ shape: "textBit", data: [{ xyPos: [.435, .355], text: 'Et' }]},
			{ shape: "textBit", data: [{ xyPos: [.535, .41], text: 'Pr' }]},
		]
	});
	
var hotspot7_5 = new Sketch ({
		id: "hotspot7_5",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [.35, .55], width: .2, height: .2 }]},
		]
	}, eventManager);

// simplified right molecule (clickable)
var sketch7_9 = new Sketch ({
		id: "sketch7_9",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.715, .45], length: .04, angle: 7*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.715, .45], length: .04, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.715, .45], length: .05, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.725, .455], length: .04, angle: -Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.757, .425], length: .04, angle: Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.757, .425], length: .04, angle: -Math.PI/2 }]},
			
			{ shape: "textBit", data: [{ xyPos: [.715, .5], text: 'Me' }]},
			{ shape: "textBit", data: [{ xyPos: [.655, .41], text: 'Pr' }]},
			{ shape: "textBit", data: [{ xyPos: [.81, .45], text: 'Pr' }]},
			{ shape: "textBit", data: [{ xyPos: [.755, .355], text: 'Et' }]},
		]
	});
	
var hotspot7_6 = new Sketch ({
		id: "hotspot7_6",
		type: "hot",
		drawShape:
		[
			{ shape: "rectangle", fill: "Black", data: [{ xyPos: [.6, .55], width: .2, height: .2 }]},
		]
	}, eventManager);

// message to be displayed upon incorrect answer
var sketch7_10 = new Sketch ({
		id: "sketch7_10",
		drawShape:
		[
			{ shape: "textBit", data: [{ xyPos: [.5, .2], text: "Incorrect" }]}
		]
	});

// message to be displayed upon correct answer	
var sketch7_11 = new Sketch ({
		id: "sketch7_11",
		drawShape:
		[
			{ shape: "rectangle", data: [{ xyPos: [.04, .54], width: .22, height: .2 }]},
		
			{ shape: "rectangle", data: [{ xyPos: [.355, .54], width: .48, height: .2 }]},
			{ shape: "line", data: [{ xyPos: [.58, .45], length: .03, angle: 0 }]},
			{ shape: "line", data: [{ xyPos: [.58, .435], length: .03, angle: 0 }]},
		
			{ shape: "textBit", data: [{ xyPos: [.6, .3], text: "homomers" }]},
			
			{ shape: "textBit", data: [{ xyPos: [.32, .26], text: "stereoisomers" }]},
			{ shape: "line", data: [{ xyPos: [.25, .29], length: .1, angle: 5*Math.PI/6 }]},
			{ shape: "line", data: [{ xyPos: [.39, .29], length: .1, angle: Math.PI/6 }]},
			
			{ shape: "textBit", data: [{ xyPos: [.5, .2], text: "Correct" }]},
		]
	});

// button used to reset animation
var button7 = new Button ({
		id: "b7",
		text: "Click to reset"
	}, eventManager);

button7.draw(d3.select("#button7"));

// draw all the sketches
svg7.append(sketch7_0, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_01, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_1, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_2, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_3, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_4, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_5, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_6, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_7, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_8, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_9, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_10, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(sketch7_11, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
// draw all the hotspots
svg7.append(hotspot7_1, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(hotspot7_2, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(hotspot7_3, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(hotspot7_4, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(hotspot7_5, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg7.append(hotspot7_6, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});

// hotspots and button trigger events
eventManager.subscribe(hotspot7_1.selectedEventId, handleClick7_1);
eventManager.subscribe(hotspot7_2.selectedEventId, handleClick7_2);
eventManager.subscribe(hotspot7_3.selectedEventId, handleClick7_3);
eventManager.subscribe(hotspot7_4.selectedEventId, handleClick7_4);
eventManager.subscribe(hotspot7_5.selectedEventId, handleClick7_5);
eventManager.subscribe(hotspot7_6.selectedEventId, handleClick7_6);
eventManager.subscribe(button7.pressedEventId, handleClick7_7);

// much of the exercise starts out invisible
sketch7_01.setOpacity(0, 0, 0);
sketch7_4.setOpacity(0, 0, 0);
sketch7_5.setOpacity(0, 0, 0);
sketch7_6.setOpacity(0, 0, 0);
sketch7_7.setOpacity(0, 0, 0);
sketch7_8.setOpacity(0, 0, 0);
sketch7_9.setOpacity(0, 0, 0);
sketch7_10.setOpacity(0, 0, 0);
sketch7_11.setOpacity(0, 0, 0);

var reveal7_1 = 0;	// flag for when simplified left molecule is revealed
var reveal7_2 = 0;	// flag for when simplified middle molecule is revealed
var reveal7_3 = 0;	// flag for when simplified right molecule is revealed
var click7 = 0;		// keeps track of how many simplified molecules have been clicked
var first7 = 0;		// marks which simplified molecule was chosen first
var second7 = 0;	// marks which simplified molecule was chosen second
var canclick7 = true;	// false if nothing can be clicked (animation running)

// reveal left simplifed molecule
function handleClick7_1 ()
{
	sketch7_4.setOpacity(1, 500, 0);
	sketch7_7.setOpacity(1, 500, 0);
	reveal7_1 = 1;
	// reveal message if all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1) sketch7_01.setOpacity(1, 500, 0);
}
// reveal middle simplified molecule
function handleClick7_2 ()
{
	sketch7_5.setOpacity(1, 500, 0);
	sketch7_8.setOpacity(1, 500, 0);
	reveal7_2 = 1;
	// reveal message if all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1) sketch7_01.setOpacity(1, 500, 0);
}
// reveal right simplified molecule
function handleClick7_3 ()
{
	sketch7_6.setOpacity(1, 500, 0);
	sketch7_9.setOpacity(1, 500, 0);
	reveal7_3 = 1;
	// reveal message if all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1) sketch7_01.setOpacity(1, 500, 0);
}
// click left simplified molecule
function handleClick7_4 (eventDetails)
{
	// not clickable until all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1)
	{
		canclick7 = false;
		sketch7_7.setColor("blue", 200, 0);
		if (click7 == 0) first7 = 1;
		else if (click7 == 1) second7 == 1;
		click7 ++;
		checkAnswer7();
		setTimeout(function () {canclick7 = true;}, 500);
	}
}
// click middle simplified molecule
function handleClick7_5 (eventDetails)
{
	// not clickable until all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1)
	{
		canclick7 = false;
		sketch7_8.setColor("blue", 200, 0);
		if (click7 == 0) first7 = 2;
		else if (click7 == 1) second7 = 2;
		click7 ++;
		checkAnswer7();
		setTimeout(function () {canclick7 = true;}, 500);
	}
}
// click right simplified molecule
function handleClick7_6 (eventDetails)
{
	// not clickable until all simplified molecules have been revealed
	if (reveal7_1 == 1 && reveal7_2 == 1 && reveal7_3 == 1)
	{
		canclick7 = false;
		sketch7_9.setColor("blue", 200, 0);
		if (click7 == 0) first7 = 3;
		else if (click7 == 1) second7 = 3;
		click7 ++;
		checkAnswer7();
		setTimeout(function () {canclick7 = true;}, 500);
	}
}
// reset
function handleClick7_7 ()
{
	if (canclick7)
	{
		canclick7 = false;
		sketch7_7.setColor("grey", 10, 0);
		sketch7_8.setColor("grey", 10, 0);
		sketch7_9.setColor("grey", 10, 0);
		sketch7_01.setOpacity(0, 0, 0);
		sketch7_4.setOpacity(0, 0, 0);
		sketch7_5.setOpacity(0, 0, 0);
		sketch7_6.setOpacity(0, 0, 0);
		sketch7_7.setOpacity(0, 0, 20);
		sketch7_8.setOpacity(0, 0, 20);
		sketch7_9.setOpacity(0, 0, 20);
		sketch7_10.setOpacity(0, 0, 0);
		sketch7_11.setOpacity(0, 0, 0);
	
		click7 = 0;
		first7 = 0;
		second7 = 0;
		reveal7_1 = 0;
		reveal7_2 = 0;
		reveal7_3 = 0;
		setTimeout(function () {canclick7 = true;}, 25);
	}
}
// check for correct answer (middle and right simplified molecules)
function checkAnswer7 ()
{
	// if two molecules have been selected
	if (click7 >= 2)
	{
		// middle and right molecules are the correct answer
		if ((first7 == 2 && second7 == 3) || (first7 == 3 && second7 == 2))
		{
			sketch7_11.setOpacity(1, 500, 0);
		}
		// otherwise answer is incorrect
		else
		{
			sketch7_10.setOpacity(1, 500, 0);
		}
	}
}




	
	</script>
</body>
</html>
