<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Template for Multiple Choice Question Brix" name="description">
   
    <!-- widgets.css contains styling for the interactive brix -->
    <link href="css/widgets.css" rel="stylesheet">
</head>
<body>
    <div id="target1"></div>
    <p>Credit Line</p>
    <div id="target2"></div>
    <script src="js/d3.v3.min.js"></script>
    <!--
	<script src="js/brixlib-compiled.js"></script>
	-->
	<script src="../closure/closure-library/closure/goog/base.js"></script>
	<script src="../closure/closure-library/closure/goog/deps.js"></script>

	<script src="js/eventmanager.js"></script>
	<script src="js/fakeactivitydb.js"></script>
    <script src="js/ipsproxy.js"></script>
	<script src="js/answerman.js"></script>
	<script src="js/localanswerman.js"></script>
	<script src="js/submitmanager.js"></script>
	<script src="js/widget-base.js"></script>
    <script src="js/mortar-base.js"></script>
    <script src="js/widget-carousel.js"></script>
    <script src="js/widget-image.js"></script>
    <script src="js/widget-imageviewer.js"></script>
	<script src="js/widget-labelgroup.js"></script>
    <script src="js/brix-labelselector.js"></script>
    <script src="js/brix-labelcarousel.js"></script>
	<script src="js/bricworks.js"></script>
    <script src="js/widget-numeric.js"></script>
    <script src="js/widget-legend.js"></script>
    <script src="js/widget-callouts.js"></script>
    <script src="js/widget-button.js"></script>
    <script src="js/widget-sketch.js"></script>
    <script src="js/widget-prototype-axes.js"></script>
	<script src="js/widget-linegraph.js"></script>
	<script src="js/widget-barchart.js"></script>
    <script src="js/widget-piechart.js"></script>
   
    <script src="js/widget-markergroup.js"></script>
    <script src="js/widget-radiogroup.js"></script>
    <script src="js/widget-checkgroup.js"></script>
    <script src="js/widget-selectgroup.js"></script>
    <script src="js/widget-multiplechoicequestion.js"></script>
    <script src="js/widget-multiselectquestion.js"></script>
    <script src="js/widget-numericquestion.js"></script>
    <script src="js/widget-slider.js"></script>
    <script src="js/mortar-hilite.js"></script>
	<script src="js/briclayer.js"></script>

    <script src="js/domhelper.js"></script>
    <script src="js/ipc.js"></script>
    <script>

	// Create an object that will contain the objects needed for the activities
	// on this page.
	pearson.brix.activity = {};
	var a = pearson.brix.activity;

	// The activity config that defines the brix and mortar for this page
	a.config =
		{
			"description": "A Sample Activity containing a swappable graph",
			"sequenceNodeKey": "61F90FA9-4334-4C91-9621-25F86634B229",
			"maxAttempts": 2,
			"containerConfig":
				[
					{
						"description": "container for the graph and labels",
						"containerId": "target1",
						"brixConfig":
							[
								{
									"bricId": "swapGraph",
									"bricType": "LineGraph",
									"config":
										{
											"id": "graph1",
											//"Data": [schools1,schools2],
											"type": "lines",
											"xAxisFormat":
												{ 
													"type": "linear", 
													"ticks": [1940, 1955, 1970, 1985, 2000, 2015],
													"format": "0f",
													"orientation": "bottom",
													"label": "Year"
												},
											"yAxisFormat":
												{
													"type": "linear",
													"orientation": "left",
													"ticks": [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
													"label": "Percentage (%)"
												},
										},
                                    "configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "Data",
                                                "value":
                                                    {
                                                        "type": "array",
                                                        "elements":
                                                        [
                                                            { "type": "ref", "domain": "data", "refId": "schools1" },
                                                            { "type": "ref", "domain": "data", "refId": "schools2" }
                                                        ]
                                                    }
                                            }
                                        ]
								},
								{
									"bricId": "legend1",
									"bricType": "Legend",
									"config":
										{
											"id": "legendSchools",
											"type": "line",
											"xPos": "right",
											"yPos": "top",
											"labels":
											[
												{"content": "Same"}, 
												{"content": "Separate"}, 
											],
										}
								},
								{
									"bricId": "cntr1",
									"bricType": "SvgContainer",
									"config":
										{
											//"node": d3.select("#target1"),
											"maxSize": {"height": 600, "width": 477},
										},
									"configFixup":
                                        [
                                            {
                                                "type": "set-property",
                                                "name": "node",
                                                "value":
                                                    {
                                                        "type": "d3select",
                                                        "selector": "#target1"
                                                    }
                                            }
                                        ]
								}
							],
						"hookupActions":
							[
								{
									"description": "Append the swap graph to the svg container",
									"type": "method-call",
									"instance": {"type": "ref", "domain": "brix", "refId": "cntr1"},
									"methodName": "append",
									"args":
										[
											{ "type": "ref", "domain": "brix", "refId": "swapGraph" },
										]
								},
								{
									"description": "Append the legend to the svg container",
									"type": "method-call",
									"instance": {"type": "ref", "domain": "brix", "refId": "cntr1"},
									"methodName": "append",
									"args":
										[
											{ "type": "ref", "domain": "brix", "refId": "legend1" },
										]
								}
							]
					}
				],
			"data":
                {
					"intermarriage1":
						[
                			{"x": 1958, "y": 96},
                			{"x": 1972, "y": 73 },
                			{"x": 1991, "y": 49 },
                			{"x": 2011, "y": 16 }
    					],
           			"Intermarriage2": 
           				[
                			{"x": 1958, "y": 4},
                			{"x": 1972, "y": 27 },
               				{"x": 1991, "y": 51 },
                			{"x": 2011, "y": 84 }
               			],
					"schools1":
						[
							{"x": 1942, "y": 68},
                			{"x": 1964, "y": 37 },
                			{"x": 1984, "y": 8 },
                			{"x": 1995, "y": 4 }
						],
					"schools2":
						[
							{"x": 1942, "y": 32},
                			{"x": 1964, "y": 63 },
                			{"x": 1984, "y": 92 },
                			{"x": 1995, "y": 96 }
						]
                }
		};

	// create the eventmanager to be used by the created brix, and the
	// bricLayer which will create them, and then tell the bricLayer to build.
	a.eventManager = new pearson.utils.EventManager();
	a.answerMan = new pearson.brix.utils.LocalAnswerMan();
	a.submitManager = new pearson.brix.utils.SubmitManager(a.eventManager, a.answerMan);

	a.bricLayer = new pearson.brix.BricLayer(null, a.eventManager, a.submitManager);

	pearson.utils.logToConsole(true, "FINER");

	a.building = a.bricLayer.build(a.config);


    /* 
    a.answerMan.setMaxAttempts(a.config.maxAttempts);
	a.answerMan.registerAnswerKey(a.config.sequenceNodeKey,
								  a.config.containerConfig[0].brixConfig[0].answerKey);
	*/

    </script>
</body>
</html>
